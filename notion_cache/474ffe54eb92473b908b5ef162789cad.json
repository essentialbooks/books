{
  "ID": "474ffe54-eb92-473b-908b-5ef162789cad",
  "Page": {
    "alive": true,
    "content": [
      "68541e7e-bfa3-46eb-9997-3621bc89ae4c",
      "df1766cb-d75a-42df-b7a8-af89790d223a",
      "e242e6b0-5cb5-4853-b61c-72ea4956b86f",
      "b403dcb7-78f3-47ac-99af-f93c3981b974",
      "b0ba4990-1d83-4e85-a191-59981dc5fe82",
      "be1b09e9-6b29-478f-816d-77c72da0ebba",
      "541311c9-62fe-4bde-9ed4-923308c6152f",
      "048d231b-17d8-43e8-9a0d-b83322318a92",
      "2acd6958-4166-476c-a303-1558d644fead",
      "8854027a-f192-4015-8918-c714f75d8fda",
      "2653c5ea-cd16-4eea-8ce2-e2c119457336",
      "c176830c-cff4-40a5-a676-34845d3d18ec",
      "65d3612c-867d-48cb-8365-af14e20e82d1",
      "ecf4786d-a817-4e60-b4a4-e3ea556560c8",
      "b501fba1-4e05-451b-85af-63cdbca1ab07",
      "8cba9407-7f2f-4ff2-adb6-5952ce3175e2",
      "4d9ed9df-62fd-46d8-8732-1e9290eacfff",
      "36840a72-4ed2-4aac-885d-84802902e64a",
      "879bb1d4-49d9-42d6-8a72-614a2d75115d",
      "a222c275-9382-4b1b-af53-b3ff86b93805",
      "86953e9c-b1f9-45f9-a1ca-53d53d58fd73",
      "b99b52a2-cd15-4097-9aa9-b42e87d4f699",
      "3cf06b25-6d9b-4313-abb9-e73d9915a099",
      "147ef0b4-bf42-40b1-9db8-01e40cde268e",
      "d5729037-a6ea-433b-99e7-f629a786fc41",
      "88164bee-745a-4f7e-bc25-fa72c5e41ad2",
      "f675c065-d5fc-46db-9eb7-15e48e4eae42",
      "dc5a1312-9b55-48e2-82e0-3dacc2117bdd",
      "2a59cda3-b529-479f-a059-082e227c4946",
      "1ca7fc71-ed7a-4548-921a-cc1e520b6584",
      "b5e3d2e0-fc5f-45d3-9987-cc8a8c18a87d",
      "2aa8fda1-8dd0-4a6a-8dc9-836dbd934d66",
      "14120776-378d-4eec-8f8e-dab2a83cd175",
      "6c602f14-0fe6-4a28-b6c3-69cc434d8fcf",
      "03341ef9-0222-41d5-9b10-4e7e85e72363"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1532156260263,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "474ffe54-eb92-473b-908b-5ef162789cad",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1532214710948,
    "parent_id": "301bb328-156d-4206-94eb-f5489d2cb744",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Encryption and decryption"
        ]
      ]
    },
    "type": "page",
    "version": 25,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532214690977,
        "id": "68541e7e-bfa3-46eb-9997-3621bc89ae4c",
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532214712227,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "$Id: 307"
            ]
          ]
        },
        "type": "text",
        "version": 12,
        "inline_content": [
          {
            "Text": "$Id: 307"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532214692530,
        "id": "df1766cb-d75a-42df-b7a8-af89790d223a",
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532214712842,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "$Score: 2"
            ]
          ]
        },
        "type": "text",
        "version": 12,
        "inline_content": [
          {
            "Text": "$Score: 2"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532214693737,
        "id": "e242e6b0-5cb5-4853-b61c-72ea4956b86f",
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532214713554,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "$SOId: 30884"
            ]
          ]
        },
        "type": "text",
        "version": 12,
        "inline_content": [
          {
            "Text": "$SOId: 30884"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532214695161,
        "id": "b403dcb7-78f3-47ac-99af-f93c3981b974",
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532214700833,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Foreword"
            ]
          ]
        },
        "type": "header",
        "version": 25,
        "inline_content": [
          {
            "Text": "Foreword"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532214700833,
        "id": "b0ba4990-1d83-4e85-a191-59981dc5fe82",
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532214701097,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is a detailed example about how to encrypt and decrypt data with Go. The uses code is shorten, e.g. the error handling is not mentioned. The full working project with error handling and user interface could be found on Github "
            ],
            [
              "here",
              [
                [
                  "a",
                  "https://github.com/SommerEngineering/PasswordManager/blob/master/EncryptFile.go"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 8,
        "inline_content": [
          {
            "Text": "This is a detailed example about how to encrypt and decrypt data with Go. The uses code is shorten, e.g. the error handling is not mentioned. The full working project with error handling and user interface could be found on Github "
          },
          {
            "Text": "here",
            "Link": "https://github.com/SommerEngineering/PasswordManager/blob/master/EncryptFile.go"
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260259,
        "id": "be1b09e9-6b29-478f-816d-77c72da0ebba",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260259,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "# Encryption"
            ],
            [
              "## Introduction and data This example describes a full working encryption and decryption in Go. In order to do so, we need a data. In this example, we use our own data structure "
            ],
            [
              "secret",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ],
            [
              "type secret struct { DisplayName string Notes string Username string EMail string CopyMethod string Password string CustomField01Name string CustomField01Data string CustomField02Name string CustomField02Data string CustomField03Name string CustomField03Data string CustomField04Name string CustomField04Data string CustomField05Name string CustomField05Data string CustomField06Name string CustomField06Data string }"
            ],
            [
              "Next, we want to encrypt such a "
            ],
            [
              "secret",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". The full working example could be found "
            ],
            [
              "here (link to Github)",
              [
                [
                  "a",
                  "https://github.com/SommerEngineering/PasswordManager/blob/master/EncryptFile.go"
                ]
              ]
            ],
            [
              ". Now, the step-by-step process:"
            ],
            [
              "## Step 1 First of all, we need a kind of master password to protected the secret: "
            ],
            [
              "masterPassword := \"PASS\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "## Step 2 All the crypto methods working with bytes instead of strings. Thus, we construct a byte array with the data from our secret."
            ],
            [
              "secretBytesDecrypted := []byte(fmt.Sprintf(“%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s”, artifact.DisplayName, strings.Replace(artifact.Notes, “”, string(65000), -1), artifact.Username, artifact.EMail, artifact.CopyMethod, artifact.Password, artifact.CustomField01Name, artifact.CustomField01Data, artifact.CustomField02Name, artifact.CustomField02Data, artifact.CustomField03Name, artifact.CustomField03Data, artifact.CustomField04Name, artifact.CustomField04Data, artifact.CustomField05Name, artifact.CustomField05Data, artifact.CustomField06Name, artifact.CustomField06Data, ))"
            ],
            [
              "## Step 3 We create some salt in order to prevent rainbow table attacks, cf. "
            ],
            [
              "Wikipedia",
              [
                [
                  "a",
                  "https://en.wikipedia.org/wiki/Salt_(cryptography)"
                ]
              ]
            ],
            [
              ": "
            ],
            [
              "saltBytes := uuid.NewV4().Bytes()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". Here, we use an UUID v4 which is not predictable."
            ],
            [
              "## Step 4 Now, we are able to derive a key and a vector out of the master password and the random salt, regarding RFC 2898:"
            ],
            [
              "keyLength := 256 rfc2898Iterations := 6"
            ],
            [
              "keyVectorData := pbkdf2.Key(masterPassword, saltBytes, rfc2898Iterations, (keyLength/8)+aes.BlockSize, sha1.New) keyBytes := keyVectorData[:keyLength/8] vectorBytes := keyVectorData[keyLength/8:]"
            ],
            [
              "## Step 5 The desired CBC mode works with whole blocks. Thus, we have to check if our data is aligned to a full block. If not, we have to pad it:"
            ],
            [
              "if len(secretBytesDecrypted)%aes.BlockSize != 0 { numberNecessaryBlocks := int(math.Ceil(float64(len(secretBytesDecrypted)) / float64(aes.BlockSize))) enhanced := make([]byte, numberNecessaryBlocks*aes.BlockSize) copy(enhanced, secretBytesDecrypted) secretBytesDecrypted = enhanced }"
            ],
            [
              "## Step 6 Now we create an AES cipher: "
            ],
            [
              "aesBlockEncrypter, aesErr := aes.NewCipher(keyBytes)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "## Step 7 We reserve the necessary memory for the encrypted data: "
            ],
            [
              "encryptedData := make([]byte, len(secretBytesDecrypted))",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". In case of AES-CBC, the encrypted data had the same length as the unencrypted data."
            ],
            [
              "## Step 8 Now, we should create the encrypter and encrypt the data:"
            ],
            [
              "aesEncrypter := cipher.NewCBCEncrypter(aesBlockEncrypter, vectorBytes) aesEncrypter.CryptBlocks(encryptedData, secretBytesDecrypted) Now, the encrypted data is inside the "
            ],
            [
              "encryptedData",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " variable."
            ],
            [
              "## Step 9 The encrypted data must be stored. But not only the data: Without the salt, the encrypted data could not be decrypted. Thus, we must use some kind of file format to manage this. Here, we encode the encrypted data as base64, cf. "
            ],
            [
              "Wikipedia",
              [
                [
                  "a",
                  "https://en.wikipedia.org/wiki/Base64"
                ]
              ]
            ],
            [
              ":"
            ],
            [
              "encodedBytes := make([]byte, base64.StdEncoding.EncodedLen(len(encryptedData))) base64.StdEncoding.Encode(encodedBytes, encryptedData)"
            ],
            [
              "Next, we define our file content and our own file format. The format looks like this: "
            ],
            [
              "salt[0x10]base64 content",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". First, we store the salt. In order to mark the beginning of the base64 content, we store the byte "
            ],
            [
              "10",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". This works, because base64 does not use this value. Therefore, we could find the start of base64 by search the first occurrence of "
            ],
            [
              "10",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " from the end to the beginning of the file."
            ],
            [
              "fileContent := make([]byte, len(saltBytes)) copy(fileContent, saltBytes) fileContent = append(fileContent, 10) fileContent = append(fileContent, encodedBytes…)"
            ],
            [
              "## Step 10 Finally, we could write our file: "
            ],
            [
              "writeErr := ioutil.WriteFile(\"my secret.data\", fileContent, 0644)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "# Encryption"
          },
          {
            "Text": "## Introduction and data This example describes a full working encryption and decryption in Go. In order to do so, we need a data. In this example, we use our own data structure "
          },
          {
            "Text": "secret",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          },
          {
            "Text": "type secret struct { DisplayName string Notes string Username string EMail string CopyMethod string Password string CustomField01Name string CustomField01Data string CustomField02Name string CustomField02Data string CustomField03Name string CustomField03Data string CustomField04Name string CustomField04Data string CustomField05Name string CustomField05Data string CustomField06Name string CustomField06Data string }"
          },
          {
            "Text": "Next, we want to encrypt such a "
          },
          {
            "Text": "secret",
            "AttrFlags": 2
          },
          {
            "Text": ". The full working example could be found "
          },
          {
            "Text": "here (link to Github)",
            "Link": "https://github.com/SommerEngineering/PasswordManager/blob/master/EncryptFile.go"
          },
          {
            "Text": ". Now, the step-by-step process:"
          },
          {
            "Text": "## Step 1 First of all, we need a kind of master password to protected the secret: "
          },
          {
            "Text": "masterPassword := \"PASS\"",
            "AttrFlags": 2
          },
          {
            "Text": "## Step 2 All the crypto methods working with bytes instead of strings. Thus, we construct a byte array with the data from our secret."
          },
          {
            "Text": "secretBytesDecrypted := []byte(fmt.Sprintf(“%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s”, artifact.DisplayName, strings.Replace(artifact.Notes, “”, string(65000), -1), artifact.Username, artifact.EMail, artifact.CopyMethod, artifact.Password, artifact.CustomField01Name, artifact.CustomField01Data, artifact.CustomField02Name, artifact.CustomField02Data, artifact.CustomField03Name, artifact.CustomField03Data, artifact.CustomField04Name, artifact.CustomField04Data, artifact.CustomField05Name, artifact.CustomField05Data, artifact.CustomField06Name, artifact.CustomField06Data, ))"
          },
          {
            "Text": "## Step 3 We create some salt in order to prevent rainbow table attacks, cf. "
          },
          {
            "Text": "Wikipedia",
            "Link": "https://en.wikipedia.org/wiki/Salt_(cryptography)"
          },
          {
            "Text": ": "
          },
          {
            "Text": "saltBytes := uuid.NewV4().Bytes()",
            "AttrFlags": 2
          },
          {
            "Text": ". Here, we use an UUID v4 which is not predictable."
          },
          {
            "Text": "## Step 4 Now, we are able to derive a key and a vector out of the master password and the random salt, regarding RFC 2898:"
          },
          {
            "Text": "keyLength := 256 rfc2898Iterations := 6"
          },
          {
            "Text": "keyVectorData := pbkdf2.Key(masterPassword, saltBytes, rfc2898Iterations, (keyLength/8)+aes.BlockSize, sha1.New) keyBytes := keyVectorData[:keyLength/8] vectorBytes := keyVectorData[keyLength/8:]"
          },
          {
            "Text": "## Step 5 The desired CBC mode works with whole blocks. Thus, we have to check if our data is aligned to a full block. If not, we have to pad it:"
          },
          {
            "Text": "if len(secretBytesDecrypted)%aes.BlockSize != 0 { numberNecessaryBlocks := int(math.Ceil(float64(len(secretBytesDecrypted)) / float64(aes.BlockSize))) enhanced := make([]byte, numberNecessaryBlocks*aes.BlockSize) copy(enhanced, secretBytesDecrypted) secretBytesDecrypted = enhanced }"
          },
          {
            "Text": "## Step 6 Now we create an AES cipher: "
          },
          {
            "Text": "aesBlockEncrypter, aesErr := aes.NewCipher(keyBytes)",
            "AttrFlags": 2
          },
          {
            "Text": "## Step 7 We reserve the necessary memory for the encrypted data: "
          },
          {
            "Text": "encryptedData := make([]byte, len(secretBytesDecrypted))",
            "AttrFlags": 2
          },
          {
            "Text": ". In case of AES-CBC, the encrypted data had the same length as the unencrypted data."
          },
          {
            "Text": "## Step 8 Now, we should create the encrypter and encrypt the data:"
          },
          {
            "Text": "aesEncrypter := cipher.NewCBCEncrypter(aesBlockEncrypter, vectorBytes) aesEncrypter.CryptBlocks(encryptedData, secretBytesDecrypted) Now, the encrypted data is inside the "
          },
          {
            "Text": "encryptedData",
            "AttrFlags": 2
          },
          {
            "Text": " variable."
          },
          {
            "Text": "## Step 9 The encrypted data must be stored. But not only the data: Without the salt, the encrypted data could not be decrypted. Thus, we must use some kind of file format to manage this. Here, we encode the encrypted data as base64, cf. "
          },
          {
            "Text": "Wikipedia",
            "Link": "https://en.wikipedia.org/wiki/Base64"
          },
          {
            "Text": ":"
          },
          {
            "Text": "encodedBytes := make([]byte, base64.StdEncoding.EncodedLen(len(encryptedData))) base64.StdEncoding.Encode(encodedBytes, encryptedData)"
          },
          {
            "Text": "Next, we define our file content and our own file format. The format looks like this: "
          },
          {
            "Text": "salt[0x10]base64 content",
            "AttrFlags": 2
          },
          {
            "Text": ". First, we store the salt. In order to mark the beginning of the base64 content, we store the byte "
          },
          {
            "Text": "10",
            "AttrFlags": 2
          },
          {
            "Text": ". This works, because base64 does not use this value. Therefore, we could find the start of base64 by search the first occurrence of "
          },
          {
            "Text": "10",
            "AttrFlags": 2
          },
          {
            "Text": " from the end to the beginning of the file."
          },
          {
            "Text": "fileContent := make([]byte, len(saltBytes)) copy(fileContent, saltBytes) fileContent = append(fileContent, 10) fileContent = append(fileContent, encodedBytes…)"
          },
          {
            "Text": "## Step 10 Finally, we could write our file: "
          },
          {
            "Text": "writeErr := ioutil.WriteFile(\"my secret.data\", fileContent, 0644)",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260259,
        "id": "541311c9-62fe-4bde-9ed4-923308c6152f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260259,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Decryption"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Decryption"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260259,
        "id": "048d231b-17d8-43e8-9a0d-b83322318a92",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260259,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Introduction and data"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Introduction and data"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260259,
        "id": "2acd6958-4166-476c-a303-1558d644fead",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260259,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "As for encryption, we need some data to work with. Thus, we assume we have an encrypted file and the mentioned structure "
            ],
            [
              "secret",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". The goal is to read the encrypted data from the file, decrypt it, and create an instance of the structure."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "As for encryption, we need some data to work with. Thus, we assume we have an encrypted file and the mentioned structure "
          },
          {
            "Text": "secret",
            "AttrFlags": 2
          },
          {
            "Text": ". The goal is to read the encrypted data from the file, decrypt it, and create an instance of the structure."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "8854027a-f192-4015-8918-c714f75d8fda",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 1"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 1"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "2653c5ea-cd16-4eea-8ce2-e2c119457336",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The first step is identical to the encryption: We need a kind of master password to decrypt the secret: "
            ],
            [
              "masterPassword := \"PASS\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The first step is identical to the encryption: We need a kind of master password to decrypt the secret: "
          },
          {
            "Text": "masterPassword := \"PASS\"",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "c176830c-cff4-40a5-a676-34845d3d18ec",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 2"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 2"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "65d3612c-867d-48cb-8365-af14e20e82d1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now, we read the encrypted data from file: "
            ],
            [
              "encryptedFileData, bytesErr := ioutil.ReadFile(filename)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now, we read the encrypted data from file: "
          },
          {
            "Text": "encryptedFileData, bytesErr := ioutil.ReadFile(filename)",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "ecf4786d-a817-4e60-b4a4-e3ea556560c8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 3"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 3"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "b501fba1-4e05-451b-85af-63cdbca1ab07",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "As mentioned before, we could split salt and encrypted data by the delimiter byte "
            ],
            [
              "10",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", searched backwards from the end to the beginning:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "As mentioned before, we could split salt and encrypted data by the delimiter byte "
          },
          {
            "Text": "10",
            "AttrFlags": 2
          },
          {
            "Text": ", searched backwards from the end to the beginning:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260260,
        "id": "8cba9407-7f2f-4ff2-adb6-5952ce3175e2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260260,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "for n := len(encryptedFileData) - 1; n \u003e 0; n-- {\n    if encryptedFileData[n] == 10 {\n        saltBytes = encryptedFileData[:n]\n        encryptedBytesBase64 = encryptedFileData[n+1:]\n        break\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "for n := len(encryptedFileData) - 1; n \u003e 0; n-- {\n    if encryptedFileData[n] == 10 {\n        saltBytes = encryptedFileData[:n]\n        encryptedBytesBase64 = encryptedFileData[n+1:]\n        break\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "4d9ed9df-62fd-46d8-8732-1e9290eacfff",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 4"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 4"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "36840a72-4ed2-4aac-885d-84802902e64a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Next, we must decode the base64 encoded bytes:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Next, we must decode the base64 encoded bytes:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "879bb1d4-49d9-42d6-8a72-614a2d75115d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "decodedBytes := make([]byte, len(encryptedBytesBase64))\ncountDecoded, decodedErr := base64.StdEncoding.Decode(decodedBytes, encryptedBytesBase64)\nencryptedBytes = decodedBytes[:countDecoded]"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "decodedBytes := make([]byte, len(encryptedBytesBase64))\ncountDecoded, decodedErr := base64.StdEncoding.Decode(decodedBytes, encryptedBytesBase64)\nencryptedBytes = decodedBytes[:countDecoded]",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "a222c275-9382-4b1b-af53-b3ff86b93805",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 5"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 5"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "86953e9c-b1f9-45f9-a1ca-53d53d58fd73",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now, we are able to derive a key and a vector out of the master password and the random salt, regarding RFC 2898:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now, we are able to derive a key and a vector out of the master password and the random salt, regarding RFC 2898:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "b99b52a2-cd15-4097-9aa9-b42e87d4f699",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "keyLength := 256\nrfc2898Iterations := 6\n\nkeyVectorData := pbkdf2.Key(masterPassword, saltBytes, rfc2898Iterations, (keyLength/8)+aes.BlockSize, sha1.New)\nkeyBytes := keyVectorData[:keyLength/8]\nvectorBytes := keyVectorData[keyLength/8:]"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "keyLength := 256\nrfc2898Iterations := 6\n\nkeyVectorData := pbkdf2.Key(masterPassword, saltBytes, rfc2898Iterations, (keyLength/8)+aes.BlockSize, sha1.New)\nkeyBytes := keyVectorData[:keyLength/8]\nvectorBytes := keyVectorData[keyLength/8:]",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "3cf06b25-6d9b-4313-abb9-e73d9915a099",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 6"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 6"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "147ef0b4-bf42-40b1-9db8-01e40cde268e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Create an AES cipher: "
            ],
            [
              "aesBlockDecrypter, aesErr := aes.NewCipher(keyBytes)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Create an AES cipher: "
          },
          {
            "Text": "aesBlockDecrypter, aesErr := aes.NewCipher(keyBytes)",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260261,
        "id": "d5729037-a6ea-433b-99e7-f629a786fc41",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260261,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 7"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 7"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "88164bee-745a-4f7e-bc25-fa72c5e41ad2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Reserve the necessary memory for the decrypted data: "
            ],
            [
              "decryptedData := make([]byte, len(encryptedBytes))",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". By definition, it has the same length as the encrypted data."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Reserve the necessary memory for the decrypted data: "
          },
          {
            "Text": "decryptedData := make([]byte, len(encryptedBytes))",
            "AttrFlags": 2
          },
          {
            "Text": ". By definition, it has the same length as the encrypted data."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "f675c065-d5fc-46db-9eb7-15e48e4eae42",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 8"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 8"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "dc5a1312-9b55-48e2-82e0-3dacc2117bdd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now, create the decrypter and decrypt the data:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now, create the decrypter and decrypt the data:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "2a59cda3-b529-479f-a059-082e227c4946",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "aesDecrypter := cipher.NewCBCDecrypter(aesBlockDecrypter, vectorBytes)\naesDecrypter.CryptBlocks(decryptedData, encryptedBytes)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "aesDecrypter := cipher.NewCBCDecrypter(aesBlockDecrypter, vectorBytes)\naesDecrypter.CryptBlocks(decryptedData, encryptedBytes)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "1ca7fc71-ed7a-4548-921a-cc1e520b6584",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 9"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 9"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "b5e3d2e0-fc5f-45d3-9987-cc8a8c18a87d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Convert the read bytes to string: "
            ],
            [
              "decryptedString := string(decryptedData)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". Because we need lines, split the string: "
            ],
            [
              "lines := strings.Split(decryptedString, \"\\n\")",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Convert the read bytes to string: "
          },
          {
            "Text": "decryptedString := string(decryptedData)",
            "AttrFlags": 2
          },
          {
            "Text": ". Because we need lines, split the string: "
          },
          {
            "Text": "lines := strings.Split(decryptedString, \"\\n\")",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260262,
        "id": "2aa8fda1-8dd0-4a6a-8dc9-836dbd934d66",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260262,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Step 10"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Step 10"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260263,
        "id": "14120776-378d-4eec-8f8e-dab2a83cd175",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260263,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Construct a "
            ],
            [
              "secret",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " out of the lines:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Construct a "
          },
          {
            "Text": "secret",
            "AttrFlags": 2
          },
          {
            "Text": " out of the lines:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260263,
        "id": "6c602f14-0fe6-4a28-b6c3-69cc434d8fcf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260263,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "artifact := secret{}\nartifact.DisplayName = lines[0]\nartifact.Notes = lines[1]\nartifact.Username = lines[2]\nartifact.EMail = lines[3]\nartifact.CopyMethod = lines[4]\nartifact.Password = lines[5]\nartifact.CustomField01Name = lines[6]\nartifact.CustomField01Data = lines[7]\nartifact.CustomField02Name = lines[8]\nartifact.CustomField02Data = lines[9]\nartifact.CustomField03Name = lines[10]\nartifact.CustomField03Data = lines[11]\nartifact.CustomField04Name = lines[12]\nartifact.CustomField04Data = lines[13]\nartifact.CustomField05Name = lines[14]\nartifact.CustomField05Data = lines[15]\nartifact.CustomField06Name = lines[16]\nartifact.CustomField06Data = lines[17]"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "artifact := secret{}\nartifact.DisplayName = lines[0]\nartifact.Notes = lines[1]\nartifact.Username = lines[2]\nartifact.EMail = lines[3]\nartifact.CopyMethod = lines[4]\nartifact.Password = lines[5]\nartifact.CustomField01Name = lines[6]\nartifact.CustomField01Data = lines[7]\nartifact.CustomField02Name = lines[8]\nartifact.CustomField02Data = lines[9]\nartifact.CustomField03Name = lines[10]\nartifact.CustomField03Data = lines[11]\nartifact.CustomField04Name = lines[12]\nartifact.CustomField04Data = lines[13]\nartifact.CustomField05Name = lines[14]\nartifact.CustomField05Data = lines[15]\nartifact.CustomField06Name = lines[16]\nartifact.CustomField06Data = lines[17]",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1532156260263,
        "id": "03341ef9-0222-41d5-9b10-4e7e85e72363",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1532156260263,
        "parent_id": "474ffe54-eb92-473b-908b-5ef162789cad",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Finally, re-create the line breaks within the notes field: "
            ],
            [
              "artifact.Notes = strings.Replace(artifact.Notes, string(65000), \"\\n\", -1)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Finally, re-create the line breaks within the notes field: "
          },
          {
            "Text": "artifact.Notes = strings.Replace(artifact.Notes, string(65000), \"\\n\", -1)",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      }
    ],
    "title": "Encryption and decryption",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 10
    }
  ],
  "Collections": null,
  "CollectionViews": null
}